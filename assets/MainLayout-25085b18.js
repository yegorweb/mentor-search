import{d as k,u as _,a as C,w as b,r as V,b as $,c as d,e as o,V as A,o as f,f as a,g as L,h as w,i as F,j as n,k as i,l as t,m as S,n as M,p as N,q as u,s as R,t as h,v as m,R as B,x as j,y as I,S as z,z as D}from"./index-2a8a9a72.js";import{A as U}from"./AchievementsService-bb23257e.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";const G=k({__name:"MainLayout",async setup(O){let v,p,c=_(),g=C();[v,p]=b(()=>g.checkAuth()),await v,p();let r=g.user,e=V(!1);return(P,s)=>{const y=$("router-view");return f(),d(A,null,{default:o(()=>[a(M,{elevation:0,density:"compact",color:"primary",style:{"padding-left":"calc(100vw - 100%)"}},{default:o(()=>[a(L,{class:"d-flex align-center header-container justify-space-between"},{default:o(()=>{var l;return[w("div",{onClick:s[0]||(s[0]=x=>i(e)?e.value=!t(e):e=!t(e)),class:"cursor-pointer",style:{margin:"-6px",padding:"6px"}},[a(F,null,{default:o(()=>[n(" mdi-menu ")]),_:1})]),w("div",{class:"header-title cursor-pointer text-white text-h6 font-weight-bold text-no-wrap",style:{"user-select":"none"},onClick:s[1]||(s[1]=x=>t(c).push("/"))}," Ищу наставника "),a(S,{onClick:s[2]||(s[2]=x=>t(c).push(t(r)?`/user/${t(r)._id}`:"/login")),image:(l=t(r))==null?void 0:l.avatar_url,class:"cursor-pointer",size:"30",color:"#FFFFFF"},null,8,["image"])]}),_:1})]),_:1}),a(I,{modelValue:t(e),"onUpdate:modelValue":s[15]||(s[15]=l=>i(e)?e.value=l:e=l),location:"left",color:"primary",temporary:""},{default:o(()=>[a(N,{class:"d-flex flex-column justify-space-between"},{default:o(()=>[a(u,{onClick:s[3]||(s[3]=l=>i(e)?e.value=!t(e):e=!t(e)),exact:"",to:"/",class:"font-weight-semibold"},{default:o(()=>[n(" Главная ")]),_:1}),a(R,null,{activator:o(({props:l})=>[a(u,h(l,{class:"font-weight-semibold"}),{default:o(()=>[n(" Поиск ")]),_:2},1040)]),default:o(()=>[a(u,{onClick:s[4]||(s[4]=l=>i(e)?e.value=!t(e):e=!t(e)),class:"font-weight-semibold",exact:"",to:"/searchMentors"},{default:o(()=>[n(" Наставники ")]),_:1}),a(u,{onClick:s[5]||(s[5]=l=>i(e)?e.value=!t(e):e=!t(e)),class:"font-weight-semibold",exact:"",to:"/searchLessons"},{default:o(()=>[n(" Уроки ")]),_:1}),a(u,{onClick:s[6]||(s[6]=l=>i(e)?e.value=!t(e):e=!t(e)),class:"font-weight-semibold",exact:"",to:"/searchClubs"},{default:o(()=>[n(" Клубы ")]),_:1})]),_:1}),t(r)?m("",!0):(f(),d(u,{key:0,onClick:s[7]||(s[7]=l=>i(e)?e.value=!t(e):e=!t(e)),exact:"",to:"/login",class:"font-weight-semibold"},{default:o(()=>[n(" Авторизация ")]),_:1})),t(r)?(f(),d(u,{key:1,onClick:s[8]||(s[8]=l=>i(e)?e.value=!t(e):e=!t(e)),exact:"",to:"/create",class:"font-weight-semibold"},{default:o(()=>[n(" Создать ")]),_:1})):m("",!0),t(r)&&t(B).isSomeAdmin(t(r).roles)?(f(),d(u,{key:2,onClick:s[9]||(s[9]=l=>i(e)?e.value=!t(e):e=!t(e)),to:"/admin",class:"font-weight-semibold"},{default:o(()=>[n(" Управление ")]),_:1})):m("",!0),t(r)?(f(),d(u,{key:3,onClick:s[10]||(s[10]=l=>i(e)?e.value=!t(e):e=!t(e)),exact:"",to:`/user/${t(r)._id}`,class:"font-weight-semibold"},{default:o(()=>[n(" Моя страница ")]),_:1},8,["to"])):m("",!0),t(r)?(f(),d(u,{key:4,onClick:s[11]||(s[11]=l=>i(e)?e.value=!t(e):e=!t(e)),exact:"",to:"/myResponses",class:"font-weight-semibold"},{default:o(()=>[n(" Мои отклики ")]),_:1})):m("",!0),t(r)?(f(),d(u,{key:5,onClick:s[12]||(s[12]=l=>i(e)?e.value=!t(e):e=!t(e)),exact:"",to:"/myAchievements",class:"font-weight-semibold"},{default:o(()=>[n(" Мои награды ("+j(t(r)?t(U).getActiveAchievements(t(r).achievements).length:0)+") ",1)]),_:1})):m("",!0),a(u,{onClick:s[13]||(s[13]=l=>i(e)?e.value=!t(e):e=!t(e)),exact:"",to:"/about",class:"font-weight-semibold"},{default:o(()=>[n(" О проекте ")]),_:1}),a(u,{onClick:s[14]||(s[14]=l=>i(e)?e.value=!t(e):e=!t(e)),exact:"",to:"/termsOfUse",class:"font-weight-semibold"},{default:o(()=>[n(" Пользовательское соглашение ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(D,{style:{"padding-bottom":"80px"}},{default:o(()=>[(f(),d(z,null,{default:o(()=>[a(y)]),_:1}))]),_:1})]),_:1})}}});const J=q(G,[["__scopeId","data-v-53f00c2f"]]);export{J as default};
