import{d as x,a as V,u as y,r as m,c as _,b as o,g as h,o as C,f as l,E as k,X as B,Y as F,j as e,Z as p,i as S,L as $,k as j,B as d,D as z}from"./index-a7c02cab.js";import{u as M,a as c}from"./vee-validate.esm-ef4f8042.js";import{_ as N}from"./BackButton.vue_vue_type_script_setup_true_lang-b11ea951.js";const R=d("div",{class:"text-h6 font-weight-bold"},"Вход",-1),E=d("div",{class:"text-body-2 w-100 cursor-pointer font-weight-semibold pa-1"}," восстановить пароль ",-1),I=x({__name:"LoginPage",setup(L){document.title="Авторизация — Ищу наставника";let f=V(),g=y();const{meta:v,handleSubmit:w,handleReset:T}=M({validationSchema:{password(s){return(s==null?void 0:s.length)>=6?!0:"нужно 6 символов"},email(s){return/^[a-z.-.0-9]+@[a-z.-]+\.[a-z]+$/i.test(s)?!0:"неправильный формат email"}}}),n=c("email"),i=c("password");let t=m(!1),u=m(!1);const b=w(async s=>{u.value=!0;let a=await f.login(s.email,s.password);u.value=!1,a!=null&&a.success});return(s,a)=>(C(),_(h,{class:"align-start"},{default:o(()=>[l(N),l(z,{cols:"12",xs:"12",md:"6",lg:"5",class:"mt-4 ma-auto"},{default:o(()=>[l(k,{class:"d-flex flex-column justify-center align-center text-center rounded-lg w-100 pl-6 pr-6 pt-4 pb-6"},{default:o(()=>[R,l(B,{onSubmit:F(e(b),["prevent"]),class:"d-flex mt-3 flex-column align-center justify-center w-100"},{default:o(()=>[l(p,{label:"Email",type:"email",placeholder:"vasya@ya.ru",modelValue:e(n).value.value,"onUpdate:modelValue":a[0]||(a[0]=r=>e(n).value.value=r),"error-messages":e(n).errorMessage.value,variant:"underlined",class:"w-100"},null,8,["modelValue","error-messages"]),l(p,{label:"Пароль",modelValue:e(i).value.value,"onUpdate:modelValue":a[1]||(a[1]=r=>e(i).value.value=r),"append-inner-icon":e(t)?"mdi-eye":"mdi-eye-off","onClick:appendInner":a[2]||(a[2]=r=>S(t)?t.value=!e(t):t=!e(t)),type:e(t)?"text":"password","error-messages":e(i).errorMessage.value,variant:"underlined",class:"w-100"},null,8,["modelValue","append-inner-icon","type","error-messages"]),l($,{type:"submit",disabled:!e(v).valid,color:"accent",class:"mt-4"},{default:o(()=>[j("Войти")]),_:1},8,["disabled"])]),_:1},8,["onSubmit"]),d("div",{onClick:a[3]||(a[3]=r=>e(g).push("/registration")),class:"text-body-2 w-100 cursor-pointer font-weight-semibold pa-1 mt-4"}," регистрация "),E]),_:1})]),_:1})]),_:1}))}});export{I as default};
