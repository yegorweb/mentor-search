import{d as L,w as U,u as M,r as $,a as s,c as u,b as a,V as B,e as w,o as l,f as r,g as I,h as N,i as p,j as o,k as _,l as j,m as R,n as z,p as f,q as x,F as g,s as m,t as y,v as F,x as D,y as b,z as q,S as E,A as G,_ as O}from"./index-ff565f42.js";const P=L({__name:"MainLayout",async setup(T){var h,k,V;let c,v;localStorage.getItem("token")&&([c,v]=U(()=>s().checkAuth()),c=await c,v());let d=M(),e=$(!1),A=[{route:"/",title:"Главная",group:!1,condition:!0},{title:"Поиск",group:!0,condition:!0,routes:[{route:"/searchMentors",title:"Наставники"},{route:"/serchLessons",title:"Уроки"},{route:"/searchClubs",title:"Клубы"}]},{route:"/create",title:"Создать",group:!1,condition:s().getAuthStatus()},{route:"/admin",title:"Управление",group:!1,condition:((h=s().getUser())==null?void 0:h.roles.includes("global-admin"))||((k=s().getUser())==null?void 0:k.roles.includes("school-admin"))},{route:`/user/${(V=s().getUser())==null?void 0:V._id}`,title:"Мой профиль",group:!1,condition:s().getAuthStatus()},{route:"/myResponses",title:"Мои отклики",group:!1,condition:s().getAuthStatus()},{route:"/myAchievements",title:"Мои награды",group:!1,condition:s().getAuthStatus()},{route:"/about",title:"О проекте",group:!1,condition:!0},{route:"/termsOfUse",title:"Пользовательское соглашение",group:!1,condition:!0}];return(H,i)=>{const C=w("router-link"),S=w("router-view");return l(),u(B,null,{default:a(()=>[r(R,{elevation:0,density:"compact",color:"primary"},{default:a(()=>[r(I,{class:"d-flex align-center header-container justify-space-between"},{default:a(()=>{var t;return[r(N,{class:"pt-5 pr-5 pb-5 pl-4",icon:"mdi-menu",onClick:i[0]||(i[0]=n=>p(e)?e.value=!o(e):e=!o(e))}),r(C,{style:{"text-decoration":"none",color:"#FFFFFF"},to:"/",class:"header-title text-h6 font-weight-bold text-no-wrap"},{default:a(()=>[_("Ищу наставника")]),_:1}),r(j,{class:"cursor-pointer",size:"30",color:"#FFFFFF",image:(t=o(s)().getUser())==null?void 0:t.avatar_url,onClick:i[1]||(i[1]=n=>o(s)().getAuthStatus()?o(d).push(`/user/${o(s)().getUser()._id}`):o(d).push("/login"))},null,8,["image"])]}),_:1})]),_:1}),r(q,{location:"left",color:"primary",temporary:"",modelValue:o(e),"onUpdate:modelValue":i[2]||(i[2]=t=>p(e)?e.value=t:e=t)},{default:a(()=>[r(z,{class:"d-flex flex-column justify-space-between"},{default:a(()=>[(l(!0),f(g,null,x(o(A),t=>(l(),f(g,{key:t.title},[!t.group&&t.condition?(l(),u(m,{key:0,onClick:n=>{o(d).push(t.route),p(e)?e.value=!o(e):e=!o(e)},style:{"font-weight":"600"}},{default:a(()=>[_(y(t.title),1)]),_:2},1032,["onClick"])):F("",!0),t.group?(l(),u(D,{key:1,value:t.title},{activator:a(({props:n})=>[(l(),u(m,b(n,{key:t.title,style:{"font-weight":"600"}}),{default:a(()=>[_(y(t.title),1)]),_:2},1040))]),default:a(()=>[(l(!0),f(g,null,x(t.routes,n=>(l(),u(m,{key:n.title,onClick:J=>{o(d).push(n.route),p(e)?e.value=!o(e):e=!o(e)},style:{"font-weight":"600"}},{default:a(()=>[_(y(n.title),1)]),_:2},1032,["onClick"]))),128))]),_:2},1032,["value"])):F("",!0)],64))),128))]),_:1})]),_:1},8,["modelValue"]),r(G,{style:{"padding-bottom":"80px"}},{default:a(()=>[(l(),u(E,null,{default:a(()=>[r(S)]),_:1}))]),_:1})]),_:1})}}});const Q=O(P,[["__scopeId","data-v-0accb76d"]]);export{Q as default};
