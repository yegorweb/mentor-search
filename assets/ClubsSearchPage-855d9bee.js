import{_ as N}from"./MainTitle.vue_vue_type_script_setup_true_lang-30294ea4.js";import{_ as j}from"./MentorEntry.vue_vue_type_style_index_0_lang-14aa78c8.js";import{d as q,a as F,H as R,r as d,w as T,I as g,c,e as n,g as U,o as i,f as r,j as D,D as y,J as C,l as t,k,A as H,h as I,S as J,B as f,C as L,F as P,v as S}from"./index-2a8a9a72.js";import{u as z}from"./school-d02373ea.js";import{u as G}from"./entry-d59bbcb8.js";import{_ as b}from"./lodash-57ff8d49.js";import"./BackButton.vue_vue_type_script_setup_true_lang-c7282861.js";import"./Slave.vue_vue_type_script_setup_true_lang-ac41a195.js";import"./EntryContainer-54ee7a58.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./EntryService-b35f003c.js";const K={class:"mt-8 entries-container"},M={key:0,class:"w-100 text-center text-h6 font-weight-medium"},O={key:1,class:"w-100 text-center text-h6 font-weight-medium"},ne=q({__name:"ClubsSearchPage",async setup(Q){let u,p;document.title="Поиск клубов — Ищу наставника";let B=F(),E=R(),w=z(),A=G(),h=E.towns,m=B.user,a=d(m?m.town:h.find(o=>o.name==="Глазов")),e=d(m?m.school:{name:"Все",_id:"all"}),_=d([]);async function v(){_.value=e.value?await A.get("club",a.value._id,e.value._id):[]}v();let x=d(([u,p]=T(()=>w.get_all_in_town(a.value._id)),u=await u,p(),u));return g(a,async(o,l)=>{b.isEqual(o,l)||(e.value=null,x.value=await w.get_all_in_town(a.value._id))}),g(e,(o,l)=>{b.isEqual(o,l)||v()}),(o,l)=>(i(),c(U,null,{default:n(()=>[r(N,null,{default:n(()=>[D("Поиск клубов")]),_:1}),r(H,{class:"mt-4",style:{margin:"-6px"}},{default:n(()=>[r(y,{cols:"12",md:"4",sm:"8",xs:"12",style:{padding:"6px"}},{default:n(()=>[r(C,{label:"Город",modelValue:t(a),"onUpdate:modelValue":l[0]||(l[0]=s=>k(a)?a.value=s:a=s),items:t(h),"item-title":"name","auto-select-first":"","return-object":"",variant:"solo","hide-details":""},null,8,["modelValue","items"])]),_:1}),r(y,{cols:"12",md:"4",sm:"8",xs:"12",style:{padding:"6px"}},{default:n(()=>[r(C,{label:"Школа",modelValue:t(e),"onUpdate:modelValue":l[1]||(l[1]=s=>k(e)?e.value=s:e=s),items:[{name:"Все",_id:"all"},...t(x)],"item-title":"name","auto-select-first":"","return-object":"",variant:"solo","hide-details":""},null,8,["modelValue","items"])]),_:1})]),_:1}),I("div",K,[(i(),c(J,null,{default:n(()=>[(i(!0),f(P,null,L(t(_),s=>{var V;return i(),c(j,{key:s._id,entry:s,show_location:((V=t(e))==null?void 0:V._id)==="all"},null,8,["entry","show_location"])}),128))]),_:1}))]),t(e)&&t(_).length===0?(i(),f("div",M," Пусто ")):S("",!0),t(e)?S("",!0):(i(),f("div",O," Выберите школу "))]),_:1}))}});export{ne as default};
