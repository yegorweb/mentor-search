import{_ as g}from"./MainTitle.vue_vue_type_script_setup_true_lang-276e8807.js";import{u as h,a as k,w as C,c as _,b as e,g as w,o as n,f as s,k as o,j as r,I as V,p as x,q as b,D as y,E as B,t as u,F as v,C as S,B as $}from"./index-7dc65faa.js";import{S as p}from"./SchoolService-ed707a02.js";import"./BackButton.vue_vue_type_script_setup_true_lang-a6a8d385.js";const A=$("div",{class:"text-h5 mb-4 font-weight-bold mt-8"},"Ваши школы",-1),q={__name:"AdminPage",async setup(N){let t,l,i=h(),c=k().getUser(),f=c.roles.includes("global-admin")?([t,l]=C(()=>p.get_all()),t=await t,l(),t).data:c.administered_schools.map(async d=>(await p.get_by_id(d)).data);return(d,m)=>(n(),_(w,null,{default:e(()=>[s(g,null,{default:e(()=>[o("Управление")]),_:1}),s(V,{"prepend-icon":"mdi-check",onClick:m[0]||(m[0]=a=>r(i).push("/admin/moderation")),class:"mt-6"},{default:e(()=>[o("Модерация")]),_:1}),A,s(S,{class:"mt-1 ma-0 pa-0"},{default:e(()=>[(n(!0),x(v,null,b(r(f),a=>(n(),_(y,{key:a._id,cols:"12",md:"4",sm:"6",class:"ma-0 pa-0"},{default:e(()=>[s(B,{onClick:D=>r(i).push(`/admin/school/${a._id}`),class:"text-center align-center pt-4 pb-4"},{default:e(()=>[o(u(a.town.name)+", "+u(a.name),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1}))}};export{q as default};
