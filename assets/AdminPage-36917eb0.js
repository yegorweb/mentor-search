import{_ as h}from"./MainTitle.vue_vue_type_script_setup_true_lang-1223f10d.js";import{u as g,a as C,E as k,c as _,w as e,f as w,o as n,e as s,j as o,h as r,I as V,n as x,p as y,C as B,D as b,t as u,F as v,B as A,A as S}from"./index-e2874abf.js";import{S as p}from"./SchoolService-84194114.js";import"./BackButton.vue_vue_type_script_setup_true_lang-7f34b820.js";const $=S("div",{class:"text-h5 mb-4 font-weight-bold mt-8"},"Ваши школы",-1),I={__name:"AdminPage",async setup(N){let t,l,i=g(),c=C().getUser(),f=c.roles.includes("global-admin")?([t,l]=k(()=>p.get_all()),t=await t,l(),t).data:c.administered_schools.map(async d=>(await p.get_by_id(d)).data);return(d,m)=>(n(),_(w,null,{default:e(()=>[s(h,null,{default:e(()=>[o("Управление")]),_:1}),s(V,{"prepend-icon":"mdi-check",onClick:m[0]||(m[0]=a=>r(i).push("/admin/moderation")),class:"mt-6"},{default:e(()=>[o("Модерация")]),_:1}),$,s(A,{class:"mt-1 ma-0 pa-0"},{default:e(()=>[(n(!0),x(v,null,y(r(f),a=>(n(),_(B,{key:a._id,cols:"12",md:"4",sm:"6",class:"ma-0 pa-0"},{default:e(()=>[s(b,{onClick:D=>r(i).push(`/admin/school/${a._id}`),class:"text-center align-center pt-4 pb-4"},{default:e(()=>[o(u(a.town.name)+", "+u(a.name),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1}))}};export{I as default};
