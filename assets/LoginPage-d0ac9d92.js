import{d as y,a as V,u as b,r as m,c as _,e as r,g as h,o as C,f as l,E as k,Z as $,_ as B,l as e,$ as p,k as F,M,j as S,h as d,D as j}from"./index-2a8a9a72.js";import{u as z,a as c}from"./vee-validate.esm-1e1674fa.js";import{_ as N}from"./BackButton.vue_vue_type_script_setup_true_lang-c7282861.js";const R=d("div",{class:"text-h6 font-weight-bold"},"Вход",-1),E=d("div",{class:"text-body-2 w-100 cursor-pointer font-weight-semibold pa-1"}," восстановить пароль ",-1),L=y({__name:"LoginPage",setup(T){document.title="Авторизация — Ищу наставника";let f=V(),g=b();const{meta:w,handleSubmit:v,handleReset:U}=z({validationSchema:{password(a){return(a==null?void 0:a.length)>=6?!0:"нужно 6 символов"},email(a){return/^[a-z.-.0-9]+@[a-z.-]+\.[a-z]+$/i.test(a)?!0:"неправильный формат email"}}}),n=c("email"),i=c("password");let s=m(!1),u=m(!1);const x=v(async a=>{u.value=!0,await f.login(a.email,a.password),u.value=!1,window.location.href="/"});return(a,t)=>(C(),_(h,{class:"align-start"},{default:r(()=>[l(N),l(j,{cols:"12",xs:"12",md:"6",lg:"4",class:"mt-4 ma-auto"},{default:r(()=>[l(k,{class:"d-flex flex-column justify-center align-center text-center rounded-lg w-100 pl-6 pr-6 pt-4 pb-6"},{default:r(()=>[R,l($,{onSubmit:B(e(x),["prevent"]),class:"d-flex mt-3 flex-column align-center justify-center w-100"},{default:r(()=>[l(p,{label:"Email",type:"email",placeholder:"vasya@ya.ru",modelValue:e(n).value.value,"onUpdate:modelValue":t[0]||(t[0]=o=>e(n).value.value=o),"error-messages":e(n).errorMessage.value,variant:"outlined",density:"compact",class:"w-100"},null,8,["modelValue","error-messages"]),l(p,{label:"Пароль",modelValue:e(i).value.value,"onUpdate:modelValue":t[1]||(t[1]=o=>e(i).value.value=o),"append-inner-icon":e(s)?"mdi-eye":"mdi-eye-off","onClick:appendInner":t[2]||(t[2]=o=>F(s)?s.value=!e(s):s=!e(s)),type:e(s)?"text":"password","error-messages":e(i).errorMessage.value,variant:"outlined",density:"compact",class:"w-100"},null,8,["modelValue","append-inner-icon","type","error-messages"]),l(M,{type:"submit",disabled:!e(w).valid,color:"accent",class:"mt-4"},{default:r(()=>[S("Войти")]),_:1},8,["disabled"])]),_:1},8,["onSubmit"]),d("div",{onClick:t[3]||(t[3]=o=>e(g).push("/registration")),class:"text-body-2 w-100 cursor-pointer font-weight-semibold pa-1 mt-4"}," регистрация "),E]),_:1})]),_:1})]),_:1}))}});export{L as default};
