import{d as S,u as $,a as M,w as R,r as B,R as N,c as u,b as o,V as b,e as V,o as r,f as i,g as j,h as I,i as d,j as a,k as p,l as U,m as z,n as D,p as _,q as k,F as g,s as v,t as y,v as A,x as q,y as E,z as G,S as O,A as P}from"./index-a7c02cab.js";import{A as T}from"./AchievementsService-bb23257e.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";const J=S({__name:"MainLayout",async setup(K){let h,w,x=$(),f=M();[h,w]=R(()=>f.checkAuth()),await h,w();let c=f.getAuthStatus(),l=f.getUser(),e=B(!1),F=[{route:"/",title:"Главная",group:!1,condition:!0},{title:"Поиск",group:!0,condition:!0,routes:[{route:"/searchMentors",title:"Наставники"},{route:"/serchLessons",title:"Уроки"},{route:"/searchClubs",title:"Клубы"}]},{route:"/create",title:"Создать",group:!1,condition:c},{route:"/admin",title:"Управление",group:!1,condition:l&&N.isSomeAdmin(l.roles)},{route:`/user/${l==null?void 0:l._id}`,title:"Мой профиль",group:!1,condition:c},{route:"/myResponses",title:"Мои отклики",group:!1,condition:c},{route:"/myAchievements",title:`Мои награды (${l?T.getActiveAchievements(l.achievements).length:0})`,group:!1,condition:c},{route:"/about",title:"О проекте",group:!1,condition:!0},{route:"/termsOfUse",title:"Пользовательское соглашение",group:!1,condition:!0}];return(Q,s)=>{const C=V("router-link"),L=V("router-view");return r(),u(b,null,{default:o(()=>[i(z,{elevation:0,density:"compact",color:"primary",style:{"padding-left":"calc(100vw - 100%)"}},{default:o(()=>[i(j,{class:"d-flex align-center header-container justify-space-between"},{default:o(()=>{var t;return[i(I,{class:"pt-5 pr-5 pb-5 pl-4",icon:"mdi-menu",onClick:s[0]||(s[0]=n=>d(e)?e.value=!a(e):e=!a(e))}),i(C,{style:{"text-decoration":"none",color:"#FFFFFF"},to:"/",class:"header-title text-h6 font-weight-bold text-no-wrap"},{default:o(()=>[p(" Ищу наставника ")]),_:1}),i(U,{class:"cursor-pointer",size:"30",color:"#FFFFFF",image:(t=a(l))==null?void 0:t.avatar_url,onClick:s[1]||(s[1]=n=>{var m;return a(c)?a(x).push(`/user/${(m=a(l))==null?void 0:m._id}`):a(x).push("/login")})},null,8,["image"])]}),_:1})]),_:1}),i(G,{location:"left",color:"primary",temporary:"",modelValue:a(e),"onUpdate:modelValue":s[4]||(s[4]=t=>d(e)?e.value=t:e=t)},{default:o(()=>[i(D,{class:"d-flex flex-column justify-space-between"},{default:o(()=>[(r(!0),_(g,null,k(a(F),t=>(r(),_(g,{key:t.title},[!t.group&&t.condition?(r(),u(v,{key:0,onClick:s[2]||(s[2]=n=>d(e)?e.value=!a(e):e=!a(e)),exact:"",to:t.route,class:"font-weight-semibold"},{default:o(()=>[p(y(t.title),1)]),_:2},1032,["to"])):A("",!0),t.group?(r(),u(q,{key:1,value:t.title},{activator:o(({props:n})=>[(r(),u(v,E(n,{key:t.title,style:{"font-weight":"600"},class:"font-weight-semibold"}),{default:o(()=>[p(y(t.title),1)]),_:2},1040))]),default:o(()=>[(r(!0),_(g,null,k(t.routes,n=>(r(),u(v,{key:n.title,onClick:s[3]||(s[3]=m=>d(e)?e.value=!a(e):e=!a(e)),style:{"font-weight":"600"},class:"font-weight-semibold",exact:"",to:n.route},{default:o(()=>[p(y(n.title),1)]),_:2},1032,["to"]))),128))]),_:2},1032,["value"])):A("",!0)],64))),128))]),_:1})]),_:1},8,["modelValue"]),i(P,{style:{"padding-bottom":"80px"}},{default:o(()=>[(r(),u(O,null,{default:o(()=>[i(L)]),_:1}))]),_:1})]),_:1})}}});const Z=H(J,[["__scopeId","data-v-4f3b1ea7"]]);export{Z as default};
